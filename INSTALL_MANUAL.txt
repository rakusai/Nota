☆NOTA2設置マニュアル☆(2006-09-08b版)

最新版は、ここにあります。
http://nota.jp/download/install_manual.html

NOTA 設置マニュアル ver.2006.09.08

NOTA のセットアップに挑戦してみましょう。

1. NOTA2が動作するサーバの環境を確認します

サーバーのOS

各種Linuxで確認しています。

ウェブサーバー

Apacheで確認しています。

必要アプリケーション

Apache(Apache1.3.x以上推奨)
Perl(バージョン5.8.0以上必須)
PerlMagick(Image::Magick)モジュール

これらの環境でない場合は、利用しているサーバの管理者に問い合わせてください。
また、これらの環境以外で動作した場合は、よろしければNOTAネットワークポータルまでご報告ください。


引き続き、確認作業を続けます。

Perlのパス

CGIファイルを実行するためのPerlの場所を確認してください。
NOTA2では、デフォルトではusr/bin/perlとなっていますが、
パスが異なる場合は、usr/local/bin/perlなど、
後に説明するNOTA2のプログラムの中のCGIファイル全てをサーバに合わせて書き替えてください。

シンボリックリンクの設定

NOTA2のプログラムを動かす公開ディレクトリに設定してください。
Apacheのhttpd.confファイルを直接書き替えられる方は、

<Directory ="/home/htdocs/nota">
Options ExecCGI FollowSymLinks
</Directory>

などを書き加えてください。


これで、サーバ側のチェックは完了です。

2. NOTA2をアップロードする作業に入ります

NOTA2を構成するファイルには、幾種類かの拡張子が付いています。
下記の分類に従って、ファイル転送モードを切り替えてください。
FTPソフトの設定で、予め指定しておくと大変便利です。

ASCIIモードで転送するファイルの拡張子

*.html
*.xml
*.css
*.cgi
.htaccess
*.pl
*.csv
*.dat
*.ndf

バイナリモードで転送するファイルの拡張子

*.swf
*.jpg
*.gif
*.png


[nota_package]を展開すると、[nota][notadata][source]の3つのフォルダが展開されます。
このうち、公開ディレクトリ(/home/daredare/htdocs/など)に[nota]をフォルダごと全てアップロードして下さい。

次に、ウェブに公開されないディレクトリ(/home/daredare/など)に[notadata]をフォルダごとアップロードして下さい。

3. パーミッションを変更します

公開ディレクトリにある[nota]のフォルダ内の、拡張子が*.cgiのファイルを全て755にしてください。
option.plを666にしてください。
拡張子が*.cgi以外のファイルやフォルダは644のままで構いません。
詳しくは後方に載っている「ファイル構成図」を参考にしてください。

次に、ウェブに公開されないディレクトリにある[notadata]のフォルダと、同フォルダ内の[default]と[master]フォルダの中にある、
[account][data][drawing][img][trash]の5つのフォルダ全てを777にしてください。
詳しくは後方に載っている「ファイル構成図」を参考にしてください。

4. オプション設定を変更します

[nota]のフォルダ内の[default]フォルダの中にあるinstall.cgiに該当するURLへブラウザでアクセスしてください。

[オプション設定]のページが表示されます。

まず、管理者しか分からないマスターパスワードを入力してください。

次に、notadataフォルダのパスを入力します。notadataフォルダを設置したパスを指定します。

以上、計2つの項目を書き替えたら、[保存]ボタンを押してください。

6. 正しくインストールできたかどうかをチェックします

[nota]のフォルダ内の[default]フォルダの中にあるinstall.cgiに該当するURLへブラウザでアクセスしてください。

メニューから[動作チェック]を開きます。
チェック画面が表れますので、全て緑色のOKが出ていれば、問題なくNOT2が設置されていることになります。
もし赤色のNGが出ていたら、その箇所を確認してください。

7. いよいよNOTA2を使います

[nota]のフォルダ内の[default]フォルダの中にあるinstall.cgiに該当するURLへブラウザでアクセスしてください。
メニューから[サイト管理]を開きます。
「サイトID」は、そのNOTA2のページのURLの一部分になるので、好きな名前を付けてください。
「管理者ID」と「パスワード」も同様に付けてください。この2つは後からでも変えられます。
そして「追加」ボタンを押すと、サイトが完成します。
ページに表示されるリンクを辿って、早速アクセスしてみましょう。
NOTA2のデフォルトページが待ち構えているはずです。
設置マニュアルは以上です。おめでとう。

付録. ファイル構成図

(/home/daredare/htdocs/などの公開ディレクトリ)
[nota]
└ [default]
　　├ [styles]
　　├ [plugins]
　　├ [toolbars]
　　├ [res]
　　├ [template]
　　│ ├ template.xml
　　│ ├ [photo] // [photo]の中のファイル構成図は省略します
　　│ └ [texture] // [texture]の中のファイル構成図は省略します
　　│
　　├ .htaccess
　　├ account.cgi // CGIファイルなのでパーミッションを755にしてください
　　├ account.swf
　　├ htmlconv.pl
　　├ index.cgi // CGIファイルなのでパーミッションを755にしてください
　　├ install.cgi // CGIファイルなのでパーミッションを755にしてください
　　├ link.cgi // CGIファイルなのでパーミッションを755にしてください
　　├ nota.pl
　　├ nota.swf
　　├ option.pl // このファイルをパーミッションを666にしてください
　　├ plugin.cgi // CGIファイルなのでパーミッションを755にしてください
　　├ read.cgi // CGIファイルなのでパーミッションを755にしてください
　　├ rss.cgi // CGIファイルなのでパーミッションを755にしてください
　　├ shape.swf
　　├ sidebar.cgi // CGIファイルなのでパーミッションを755にしてください
　　├ template.cgi // CGIファイルなのでパーミッションを755にしてください
　　├ upload.cgi // CGIファイルなのでパーミッションを755にしてください
　　├ view.cgi // CGIファイルなのでパーミッションを755にしてください
　　└ write.cgi // CGIファイルなのでパーミッションを755にしてください

(/home/daredare/などのウェブに公開されないディレクトリ)
[notadata]
├ [master]
└ [default]
　　├ [account] // この[account]フォルダのパーミッションを777にしてください
　　│ ├ member.csv // このファイルをパーミッションを666にしてください
　　│ └ passwd.dat // このファイルをパーミッションを666にしてください
　　├ [data] // この[data]フォルダのパーミッションを777にしてください
　　│ ├ home.ndf // このファイルをパーミッションを666にしてください
　　│ └ template.ndf
　　├ [drawing] // この[drawing]フォルダのパーミッションを777にしてください
　　├ [img] // この[img]フォルダのパーミッションを777にしてください
　　└ [trash] // この[trash]フォルダのパーミッションを777にしてください


NOTA2設置マニュアル更新履歴

2005-12-07　仮作成
2006-09-08　ver2.13に伴って修正

コピーライト表記

NOTA2 Install Manual" written by Keita Akimoto
